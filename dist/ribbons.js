!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t=t||self).Ribbons=i()}(this,function(){"use strict";var t={size:90,alpha:.6,zIndex:-1},i=window.devicePixelRatio||1,n=window.innerWidth,e=window.innerHeight,o=2*Math.PI,a=t.size,s=0;return function(){function h(t){this.config=this.extractConfig(t),this.canvasRibbon=document.createElement("canvas"),this.init()}return h.prototype.init=function(){document.addEventListener("touchmove",function(t){t.preventDefault()}),this.initCanvas(),document.onclick=this.init.bind(this),document.ontouchstart=this.init.bind(this)},h.prototype.initCanvas=function(){for(this.canvasRibbon.style.cssText="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events: none;z-index:"+t.zIndex,document.getElementsByTagName("body")[0].appendChild(this.canvasRibbon),this.ctx=this.canvasRibbon.getContext("2d"),this.canvasRibbon.width=n*i,this.canvasRibbon.height=e*i,this.ctx.scale(i,i),this.ctx.globalAlpha=this.config.alpha,this.ctx.clearRect(0,0,n,e),a=this.config.size,this.path=[{x:0,y:.7*e+a},{x:0,y:.7*e-a}];this.path[1].x<n+a;)this.drawLine(this.path[0],this.path[1])},h.prototype.drawLine=function(t,i){var n=this.ctx;n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(i.x,i.y);var e=i.x+(2*Math.random()-.25)*a,h=this._calculateY(i.y);n.lineTo(e,h),n.closePath(),s-=o/-50,n.fillStyle="#"+(127*Math.cos(s)+128<<16|127*Math.cos(s+o/3)+128<<8|127*Math.cos(s+o/3*2)+128).toString(16),n.fill(),this.path[0]=this.path[1],this.path[1]={x:e,y:h}},h.prototype._calculateY=function(t){var i=t+(2*Math.random()-1.1)*a;return i>e||i<0?.7*a:i},h.prototype.extractConfig=function(i){return e=typeof(n=i),null===n||"object"!==e&&"function"!==e?t:Object.assign(t,i);var n,e},h}()});
